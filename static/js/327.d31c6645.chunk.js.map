{"version":3,"file":"static/js/327.d31c6645.chunk.js","mappings":"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","sources":["webpack://react-homework-template/./src/components/Contact/Contact.module.css?03fd","components/Contact/ContactForm.jsx","redux/contacts/contactSelectors.js","Hooks/useContacts.js","components/Contact/ContactFilter.jsx","Hooks/useVisibleItem.js","animation/animationSettings.js","components/Contact/ContactItem.jsx","components/Contact/ContactList.jsx","components/Contact/ContactTitle.jsx","pages/ContactsPage.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"phoneBook\":\"Contact_phoneBook__50sUl\",\"phoneBookTitle\":\"Contact_phoneBookTitle__TKEQ7\",\"contactsTitle\":\"Contact_contactsTitle__UBpL9\",\"phoneBookForm\":\"Contact_phoneBookForm__GeUym\",\"phoneBookLabel\":\"Contact_phoneBookLabel__AMv6J\",\"phoneBookInput\":\"Contact_phoneBookInput__VJtwS\",\"phoneBookButton\":\"Contact_phoneBookButton__lq3iA\",\"findContactLabel\":\"Contact_findContactLabel__RJKkD\",\"findContactInput\":\"Contact_findContactInput__ZbX+j\",\"contactList\":\"Contact_contactList__ZHM49\",\"contactList__item\":\"Contact_contactList__item__6bM-C\",\"contactList__text\":\"Contact_contactList__text__w3zvp\",\"contactList__button\":\"Contact_contactList__button__sB-3K\"};","// Formik\nimport { useFormik } from 'formik';\nimport * as Yup from 'yup';\n// Hooks\nimport { useMemo } from 'react';\n// RTK Query hooks\nimport {\n  useFetchContactsQuery,\n  useAddContactMutation,\n} from 'services/phoneBook';\n// Toast notify\nimport { toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\n// Loader\nimport { Loader } from 'components/Loader/Loader';\n// Styles\nimport s from './Contact.module.css';\n\nconst schema = Yup.object().shape({\n  name: Yup.string()\n    .min(2, 'Too Short!')\n    .max(50, 'Too Long!')\n    .required('Required'),\n  number: Yup.string()\n    .required('This field is Required')\n    .matches(\n      /^((\\\\+[1-9]{1,4}[ \\\\-]*)|(\\\\([0-9]{2,3}\\\\)[ \\\\-]*)|([0-9]{2,4})[ \\\\-]*)*?[0-9]{3,4}?[ \\\\-]*[0-9]{3,4}?$/,\n      'Phone number is not valid'\n    ),\n});\n\nconst ContactForm = () => {\n  const { data: contacts } = useFetchContactsQuery();\n  const [addContact, { isLoading }] = useAddContactMutation();\n\n  const formik = useFormik({\n    initialValues: {\n      name: '',\n      number: '',\n    },\n    onSubmit: async ({ name, number }, { resetForm }) => {\n      resetForm();\n      try {\n        if (alreadyInContacts) {\n          return toast.warn(`${name} is already in 📱`);\n        } else {\n          await addContact({ name, number });\n          return toast.success(`${name} added in your 📱`);\n        }\n      } catch (error) {\n        console.log(error);\n        return toast.error('Ooops..., something went wrong, try again later');\n      }\n    },\n    validationSchema: schema,\n  });\n\n  const { name } = formik.values;\n\n  const alreadyInContacts = useMemo(() => {\n    return contacts?.find(contact => contact.name === name);\n  }, [contacts, name]);\n\n  return (\n    <form className={s.phoneBookForm} onSubmit={formik.handleSubmit}>\n      <label className={s.phoneBookLabel}>\n        <input\n          className={s.phoneBookInput}\n          name=\"name\"\n          onChange={formik.handleChange}\n          value={formik.values.name}\n          type=\"text\"\n          pattern=\"^[a-zA-Zа-яА-Я]+(([' -][a-zA-Zа-яА-Я ])?[a-zA-Zа-яА-Я]*)*$\"\n          title=\"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan\"\n          required\n          placeholder=\"Name\"\n        />\n      </label>\n      <label className={s.phoneBookLabel}>\n        <input\n          className={s.phoneBookInput}\n          name=\"number\"\n          onChange={formik.handleChange}\n          value={formik.values.number}\n          type=\"tel\"\n          pattern=\"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}\"\n          title=\"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +\"\n          required\n          placeholder=\"Number\"\n        />\n      </label>\n      <button className={s.phoneBookButton} type=\"submit\">\n        {isLoading ? <Loader /> : 'Add contact'}\n      </button>\n    </form>\n  );\n};\nexport default ContactForm;\n","const getFilter = state => state.filter.value;\n\nconst contactSelectors = {\n  getFilter,\n};\n\nexport default contactSelectors;\n","// Hooks\nimport { useMemo } from 'react';\nimport { useSelector } from 'react-redux';\n// Redux selectors\nimport contactSelectors from 'redux/contacts/contactSelectors';\n// RTK Query hooks\nimport { useFetchContactsQuery } from 'services/phoneBook';\n// Create selector\nimport { createSelector } from '@reduxjs/toolkit';\n\nconst useContacts = () => {\n  const filter = useSelector(contactSelectors.getFilter);\n\n  const selectFilteredContacts = useMemo(() => {\n    return createSelector(\n      [response => response.data, (_, filter) => filter],\n      (contacts, filter) => {\n        return (\n          contacts?.filter(contact =>\n            contact.name.toLowerCase().includes(filter.toLowerCase())\n          ) ?? []\n        );\n      }\n    );\n  }, []);\n\n  return useFetchContactsQuery(undefined, {\n    selectFromResult(result) {\n      return {\n        ...result,\n        filteredContacts: selectFilteredContacts(result, filter),\n      };\n    },\n  });\n};\n\nexport default useContacts;\n","// Contact selectors\nimport contactSelectors from 'redux/contacts/contactSelectors';\n// Styles\nimport s from './Contact.module.css';\n// Contact slice\nimport { changeFilter } from 'redux/contacts/contactSlice';\n// Redux hooks\nimport { useSelector, useDispatch } from 'react-redux';\n\nconst ContactFilter = () => {\n  const filter = useSelector(contactSelectors.getFilter);\n  const dispatch = useDispatch();\n\n  return (\n    <label className={s.findContactLabel}>\n      Find contacts by name\n      <input\n        className={s.findContactInput}\n        type=\"text\"\n        value={filter}\n        onChange={event => dispatch(changeFilter(event.target.value))}\n      />\n    </label>\n  );\n};\n\nexport default ContactFilter;\n","// Hooks\nimport { useState } from 'react';\n// Toast notify\nimport { toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\n\nconst useVisibleItem = () => {\n  const [isVisible, setVisible] = useState(true);\n\n  const handleVisible = event => {\n    if (event.target.tagName === 'BUTTON') {\n      setVisible(!isVisible);\n    }\n    return toast.info(`Contact deleted from your 📱`);\n  };\n\n  return [isVisible, handleVisible];\n};\n\nexport default useVisibleItem;\n","const animateSettings = {\n  visible: {\n    opacity: 1,\n    x: 0,\n    transition: {\n      opacity: 1,\n    },\n  },\n  hidden: {\n    opacity: 0,\n    x: -100,\n  },\n};\n\nexport default animateSettings;\n","// PropTypes\nimport PropTypes from 'prop-types';\n// Hook\nimport useVisibleItem from 'Hooks/useVisibleItem';\n// RTK Query hooks\nimport { useDeleteContactMutation } from 'services/phoneBook';\n// Framer motion\nimport { motion, AnimatePresence } from 'framer-motion';\n// Animation settings\nimport animateSettings from 'animation/animationSettings';\n// Styles\nimport s from './Contact.module.css';\n\nconst ContactItem = ({ id, name, number }) => {\n  const [deleteContact] = useDeleteContactMutation();\n  const [isVisible, handleVisible] = useVisibleItem();\n\n  return (\n    <>\n      <AnimatePresence>\n        {isVisible && (\n          <motion.li\n            className={s.contactList__item}\n            variants={animateSettings}\n            initial=\"hidden\"\n            animate=\"visible\"\n            exit=\"hidden\"\n            onClick={handleVisible}\n          >\n            <p className={s.contactList__text}>\n              <b>{name}</b>: {number}\n            </p>\n            <button\n              className={s.contactList__button}\n              onClick={() => deleteContact(id)}\n            >\n              Delete\n            </button>\n          </motion.li>\n        )}\n      </AnimatePresence>\n    </>\n  );\n};\n\nContactItem.propTypes = {\n  id: PropTypes.string.isRequired,\n  name: PropTypes.string.isRequired,\n  number: PropTypes.string.isRequired,\n};\n\nexport default ContactItem;\n","// Hooks\nimport { useMemo } from 'react';\nimport useContacts from 'Hooks/useContacts';\n// Loader\nimport { Loader } from 'components/Loader/Loader';\n// Styles\nimport s from './Contact.module.css';\n// Components\nimport ContactFilter from './ContactFilter';\nimport ContactItem from './ContactItem';\n\nconst ContactList = () => {\n  const { filteredContacts, isLoading, isSuccess } = useContacts();\n\n  const contactsSum = filteredContacts?.length;\n\n  const sortContactsById = useMemo(() => {\n    return [...filteredContacts].reverse();\n  }, [filteredContacts]);\n\n  return (\n    <>\n      <ContactFilter />\n      {!contactsSum ? (\n        <p className={s.contactList__text}>PhoneBook is empty.</p>\n      ) : (\n        <p className={s.contactList__text}>Contacts: {contactsSum}</p>\n      )}\n      {isLoading && <Loader />}\n      {isSuccess && (\n        <ul className={s.contactList}>\n          {sortContactsById.map(({ id, name, number }) => (\n            <ContactItem key={id} id={id} name={name} number={number} />\n          ))}\n        </ul>\n      )}\n    </>\n  );\n};\n\nexport default ContactList;\n","// React icons\nimport { BsPhone } from 'react-icons/bs';\nimport { RiContactsLine } from 'react-icons/ri';\n// Styles\nimport s from './Contact.module.css';\n\nexport const PhoneBookTitle = () => {\n  return (\n    <h1 className={s.phoneBookTitle}>\n      PhoneBook\n      <BsPhone />\n    </h1>\n  );\n};\n\nexport const ContactTitle = () => {\n  return (\n    <h2 className={s.contactsTitle}>\n      Contacts <RiContactsLine />\n    </h2>\n  );\n};\n","// Components\nimport ContactForm from 'components/Contact/ContactForm';\nimport ContactList from 'components/Contact/ContactList';\nimport { PhoneBookTitle, ContactTitle } from 'components/Contact/ContactTitle';\n\n// Styles\nimport s from 'components/Contact/Contact.module.css';\n\nconst ContactsPage = () => {\n  return (\n    <>\n      <div className={s.phoneBook}>\n        <PhoneBookTitle />\n        <ContactForm />\n        <ContactTitle />\n        <ContactList />\n      </div>\n    </>\n  );\n};\n\nexport default ContactsPage;\n"],"names":["schema","Yup","shape","name","min","max","required","number","matches","contacts","useFetchContactsQuery","data","useAddContactMutation","addContact","isLoading","formik","useFormik","initialValues","onSubmit","resetForm","alreadyInContacts","toast","console","log","validationSchema","values","useMemo","find","contact","className","s","handleSubmit","onChange","handleChange","value","type","pattern","title","placeholder","Loader","getFilter","state","filter","useSelector","contactSelectors","selectFilteredContacts","createSelector","response","_","toLowerCase","includes","undefined","selectFromResult","result","filteredContacts","dispatch","useDispatch","event","changeFilter","target","useState","isVisible","setVisible","tagName","visible","opacity","x","transition","hidden","id","useDeleteContactMutation","deleteContact","useVisibleItem","handleVisible","AnimatePresence","motion","variants","animateSettings","initial","animate","exit","onClick","useContacts","isSuccess","contactsSum","length","sortContactsById","reverse","map","PhoneBookTitle","ContactTitle"],"sourceRoot":""}